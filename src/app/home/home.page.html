<ion-header class="cosmic-header">
  <ion-toolbar class="cosmic-toolbar">
    <div class="header-inner">
      <div class="header-brand" (click)="currentView = 'universe'; scrollToSection('landing')">
        <div class="brand-logo-container">
          <ion-icon name="planet-outline" class="brand-icon"></ion-icon>
        </div>
        <span class="brand-text">AETHER LEXICS</span>
      </div>

      <div class="header-nav-desktop">
        <a (click)="scrollToSection('star-map')">Star Map</a>
        <a (click)="scrollToSection('mastery')">Progression</a>
        <a (click)="scrollToSection('landing')">System</a>
      </div>

      <div class="header-status">
        <span class="status-indicator"></span>
        <span class="location-text">
          {{ currentView === 'universe' ? 'SYSTEM ONLINE' : 'ORBIT: ' + selectedPlanet?.name }}
        </span>
      </div>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="main-content">
  <div class="deep-space-bg">
    <div class="nebula-layer"></div>
    <div class="stars-layer-1"></div>
    <div class="stars-layer-2"></div>
    <div class="shooting-star"></div>
  </div>
  <canvas #particleCanvas class="particle-canvas"></canvas>

  <div *ngIf="currentView === 'universe'" class="view-wrapper">
    
    <section id="landing" class="landing-hero">
      <div class="hero-content-center">
        <div class="mega-brand fade-in-element">
          <div class="badge-pill">
            <span class="dot"></span> NEURAL LINK V2.4
          </div>
          <h1 class="main-title">AETHER <span class="highlight">LEXICS</span></h1>
          <span class="subtitle-bottom">UNIVERSAL LANGUAGE INTERFACE</span>
        </div>

        <p class="hero-description fade-in-element delay-200">
          The void is vast, but it doesn't have to be silent. <br>
          Unlock ancient knowledge and turn your voice into the ultimate tool for exploration.
        </p>

        <div class="hero-actions fade-in-element delay-300">
          <button class="btn-primary-glow" (click)="scrollToSection('star-map')">
            <span class="btn-content">INITIALIZE SYSTEM <ion-icon name="arrow-forward-outline"></ion-icon></span>
            <div class="glow-effect"></div>
          </button>
        </div>
      </div>

      <div class="scroll-down-hint fade-in-element delay-500" (click)="scrollToSection('star-map')">
        <span>SCROLL TO EXPLORE</span>
        <ion-icon name="chevron-down-outline" class="bounce-icon"></ion-icon>
      </div>
    </section>

    <section id="star-map" class="solar-system-display">
      <div class="display-header scroll-reveal">
        <span class="overline">SECTOR 01</span>
        <h2>SELECT <span class="highlight">DESTINATION</span></h2>
        <p>Choose a planetary system to begin data download.</p>
      </div>

      <div class="solar-viewport scroll-reveal">
        <div class="sun-wrapper">
          <div class="sun-core"></div>
          <div class="sun-flare"></div>
        </div>

        <div class="orbit-ring" *ngFor="let planet of planets"
             [style.width.px]="planet.distance * 2"
             [style.height.px]="planet.distance * 2">
          
          <div class="orbit-path"></div>
          
          <div class="planet-mover" [style.animation-duration]="planet.orbitDuration">
            <div class="planet-hitbox" (click)="selectPlanet(planet)">
              <div class="planet-body"
                   [class.locked]="planet.status === 'locked'"
                   [style.width.px]="planet.size"
                   [style.height.px]="planet.size"
                   [style.background]="planet.status === 'active' ? planet.color : '#333'">
                <div class="planet-shading"></div>
                <div class="planet-texture"></div>
                <ion-icon *ngIf="planet.status === 'locked'" name="lock-closed-outline" class="lock-icon"></ion-icon>
              </div>
              <div class="planet-tag" [class.active]="planet.status === 'active'">
                <span class="tag-name">{{ planet.name }}</span>
                <span class="tag-status">{{ planet.status === 'active' ? 'ONLINE' : 'LOCKED' }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="info-section">
      <div class="container">
        <div class="section-header-text scroll-reveal">
          <span class="overline">ARCHITECTURE</span>
          <h2>NEURAL <span class="highlight">TECHNOLOGY</span></h2>
          <p>Our platform uses advanced cognitive mapping to ensure retention.</p>
        </div>
        <div class="features-grid">
          <div class="feature-card scroll-reveal" *ngFor="let tech of techSpecs">
            <div class="icon-box"><ion-icon [name]="tech.icon"></ion-icon></div>
            <h3>{{ tech.title }}</h3>
            <p>{{ tech.desc }}</p>
          </div>
        </div>
      </div>
    </section>

    <section id="mastery" class="mastery-section">
      <div class="container">
        <div class="section-header-text scroll-reveal">
          <span class="overline">CAREER PATH</span>
          <h2>MASTERY <span class="highlight">PROTOCOL</span></h2>
          <p>Evolve from a ground unit to supreme command.</p>
        </div>
        <div class="tiers-grid">
          <div class="tier-card scroll-reveal" *ngFor="let tier of masteryTiers; let i = index" [style.transition-delay]="i * 100 + 'ms'">
            <div class="tier-icon" [style.color]="tier.color" [style.box-shadow]="'0 0 20px ' + tier.color + '40'">
              <ion-icon [name]="tier.icon"></ion-icon>
            </div>
            <div class="tier-info">
              <h3 [style.color]="tier.color">{{ tier.title }}</h3>
              <span class="tier-level">CLEARANCE: {{ tier.level }}</span>
              <p>{{ tier.desc }}</p>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>

  <div *ngIf="currentView === 'planet-view'" class="view-wrapper">
    <section class="planet-interior">
      <div class="container">
        <div class="interior-nav">
          <ion-button fill="clear" class="back-btn" (click)="returnToUniverse()">
            <ion-icon name="arrow-back" slot="start"></ion-icon> SYSTEM MAP
          </ion-button>
          <div class="planet-badge" [style.color]="selectedPlanet?.color">{{ selectedPlanet?.name }}</div>
        </div>
        <div class="planet-dashboard-header">
          <div class="planet-holo-display">
            <div class="holo-planet" [style.background]="selectedPlanet?.color" [style.box-shadow]="'0 0 60px ' + selectedPlanet?.color"></div>
          </div>
          <div class="planet-info-panel">
            <h1>{{ selectedPlanet?.name }}</h1>
            <p class="desc">{{ selectedPlanet?.description }}</p>
            <div class="stats-grid">
              <div class="stat"><label>POPULATION</label><span>{{ selectedPlanet?.population }}</span></div>
              <div class="stat"><label>TYPE</label><span>{{ selectedPlanet?.type }}</span></div>
            </div>
          </div>
        </div>
        <div class="regions-area">
          <div class="area-title"><h3>AVAILABLE ZONES</h3><div class="line"></div></div>
          <div class="regions-grid">
            <div class="region-card" *ngFor="let region of skillRegions; let i = index" [style.animation-delay.ms]="i * 50" (click)="enterRegion(region)">
              <div class="card-border" [style.background]="region.color"></div>
              <div class="card-content">
                <div class="icon-circle" [style.color]="region.glow"><ion-icon [name]="region.icon"></ion-icon></div>
                <div class="text-info"><h4>{{ region.title }}</h4><p>{{ region.description }}</p></div>
                <ion-icon name="chevron-forward-outline" class="arrow-go"></ion-icon>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>

  <footer class="cyber-footer">
    <div class="container">
      <div class="footer-row">
        <div class="col brand"><h5>XV Origin</h5><p>Â© {{ currentYear }} All Systems Nominal.</p></div>
        <div class="col links"><a href="#">Privacy</a><a href="#">Terms</a><a href="#">Contact</a></div>
      </div>
    </div>
  </footer>
</ion-content>